<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Очистка данных — Afterbuy</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero hero--compact">
    <p class="hero__back"><a href="index.html">← Панель скриптов</a></p>
    <h1>Очистка данных проекта</h1>
    <p>Скрипт <code>clean_data.py</code> удаляет содержимое рабочих каталогов (CSV, JSON, HTML, базы, лог-файлы и сессии). Будьте осторожны: действие необратимо.</p>
  </header>

  <main class="dashboard">
    <section class="workflow">
      <h2>Подтверждение очистки</h2>
      <p class="workflow__hint">Скрипт затрагивает следующие пути:</p>
      <ul class="overview-card__list">
        <li>CSVDATA/JV_L, CSVDATA/JV_P, CSVDATA/XL_L, CSVDATA/XL_P</li>
        <li>DB, Fabriks/JV_F_*, Fabriks/XL_F_*</li>
        <li>LOGs, sessions</li>
        <li>itemsF/JV_I_*, itemsF/XL_I_*</li>
        <li>readyhtml/JV, readyhtml/XL</li>
        <li>readyJSON/JV, readyJSON/XL</li>
      </ul>

      <div class="result-panel" data-clean-result hidden>
        <div class="result-panel__header">
          <h3>Результат очистки</h3>
          <button type="button" class="secondary-btn" data-clean-clear>Очистить</button>
        </div>
        <pre class="result-panel__log" data-clean-log></pre>
      </div>

      <form class="command-form command-form--standalone" data-role="clean-data">
        <p class="hint">Для реальной очистки необходимо включить опцию «Без подтверждения». Без неё выполнение заблокировано, чтобы избежать зависания.</p>
                <div class="checkbox-row">
          <label class="checkbox">
            <input type="checkbox" name="dry-run">
            Режим предварительного просмотра (<code>--dry-run</code>)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="force" checked>
            Без подтверждения (<code>--force</code>)
          </label>
        </div>
        <div class="selection-panel">
          <div class="selection-header">
            <span class="selection-hint">Выберите каталоги для очистки.</span>
          </div>
          <ul class="selection-list" data-clean-targets></ul>
          <p class="selection-empty" data-clean-empty>Загрузка списка...</p>
        </div>

        <div class="main-actions">
          <button type="button" class="primary-btn" data-run-clean>Очистить данные</button>
          <button type="button" class="danger-btn" data-stop-clean disabled>Остановить</button>
          <span class="hint" data-clean-status>Готово к запуску.</span>
        </div>
      </form>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>


