<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Цепочка экспорта — Afterbuy</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero hero--compact">
    <p class="hero__back"><a href="index.html">← Панель скриптов</a></p>
    <h1>Цепочка экспорта Afterbuy</h1>
    <p>Выберите этапы, которые нужно выполнить, и запустите <code>main.py</code> одной кнопкой.</p>
  </header>

  <main class="dashboard">
    <section class="workflow">
      <h2>Настройка запуска</h2>
      <form class="command-form command-form--standalone" data-script="main">
        <fieldset class="field-group">
          <legend>Этапы выполнения</legend>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="login" checked>
            Авторизация (login)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="factories" checked>
            Каталоги/коллекции (factories)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="kill-fabriks" checked>
            Очистка Ignore (kill-fabriks)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="items" checked>
            Скачивание товаров (items)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="product-export" checked>
            Экспорт товаров (product-export)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="make-html" checked>
            Генерация HTML (make-html)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="lister-export" checked>
            Экспорт листера (lister-export)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="make-json" checked>
            Генерация JSON (make-json)
          </label>
          <label class="checkbox">
            <input type="checkbox" name="steps" value="make-db" checked>
            Обновление БД (make-db)
          </label>
        </fieldset>

        <div class="main-actions">
          <button type="button" class="primary-btn" data-run-main>Запустить main.py</button>
          <button type="button" class="danger-btn" data-stop-main disabled>Экстренно остановить</button>
          <span class="hint" data-main-status>Готово к запуску.</span>
        </div>
      </form>

      <div class="result-panel" data-main-result hidden>
        <div class="result-panel__header">
          <h3>Результат запуска</h3>
          <button type="button" class="secondary-btn" data-main-clear>Очистить</button>
        </div>
        <pre class="result-panel__log" data-main-log></pre>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
